---
title: "FinalReport"
author: "Devi States"
date: "April 24, 2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## Introduction
Study shows there are many factora influence life expectancy such as socioeconomic status, income, education, access to healthcare, health behaviours, poor nutrition and lack of exercise etc. In this study,there are 7-8 following research questions to be answered by using gapminder data. 

### Importing data and libraries:

```{r}
library(gapminder)
library(plyr)
library(dplyr)
library(tidyr)
library(corrplot)
library(lattice)
library(ggplot2)
library(purrr)
library(tidyverse)

```
## Importing data as gapminder.csv file:   

```{r}
library(readr)
gapdata<-read_csv("../Data/gapminder.csv")

```
## Discrption of data:
###The data frame gapminder has six variables: 
1. Country
2. continent	
3. year	
4. lifeExp =	life expectancy at birth
5. pop	 = total population
6. gdpPercap = 	per-capita GDP


###The number of observations and variables are shown below:
#### Number of observations
```{r}
nrow(gapminder)
```

####Number of variables

```{r}
ncol(gapminder)
```

####Basic summary of statistics are shown below:

```{r}
summary(gapminder)
```

####There are not missing values

```{r}
sum(is.na(gapminder))

```

###type of variables 2pts

```{r}
lapply(gapminder, class)
```

###how disperse is your data (e.g price), range of variables (e.g. years) 2pts

```{r}
length(levels(gapminder$country))
```
```{r}
hist(gapminder$gdpPercap,breaks = 30)
```
```{r}
range(gapminder$year)
```

###data wrangling 2pts
####creating life expectancy categories

```{r}
gapminder$lifeExpcat <- cut(gapminder$lifeExp,breaks = 10)
table(gapminder$lifeExpcat)
```

###preprocessing:
### log transforming highly skewed variables

```{r}
gapminder$gdpPercaplog <- log(gapminder$gdpPercap)
hist(gapminder$gdpPercaplog,breaks = 30)
```

##Explore data 60 pts - provide insights from data:

###Research questions:
1. How does GDP relate to life expectancy for 2007?

```{r}
gapminder2007 <- subset(gapminder,year == 2007)
cor(gapminder[,c("gdpPercap", "gdpPercaplog", "lifeExp")])
```

####GDP explains life expectancy

```{r}
plot(lifeExp~gdpPercaplog,data = gapminder, main = "Life Expectancy and GDP for 2007", 
     xlab = "Log of GDP", ylab = "Years")
lifegdpmodel <- lm(lifeExp~gdpPercaplog,data = gapminder)
abline(lifegdpmodel, col = "red")
legend(x = "bottomright", lty = 1, col = "red", legend = "regression line")
```
####Calculation of R-Squared:

```{r}
summary(lifegdpmodel)$r.squared
```
####log of gdp explains 65 percent of variation in life expetancy. 

2. Which countries have lower life expectancy

```{r}

```

3. Which countries have higher life expectancy

```{r}

```

4. What is income and life expactancy of Nepal compared to other Asian countries?

```{r}

```

5. What is distribution of GDP per capital in 2007?

```{r}

```

6. What are top 5 countries with largest GDP per capita in 2007?

```{r}

```

7. What is life expectation by continent?

```{r}

```


###Exploratory plots 20 pts:
####histogram, 
####correlation plot, 
####box plot (your choice of meaningful plots)

###Cluster analysis 20 pts:
####Specify explicitly the choice of # clusters using one of the learned methods (elbow, silhouette etc) 5 pts
####Visualize cluster 10 pts
####Summarize the observed pattern (if any) 5pts

###Regression analysis 20 pts
####Specify the formula - what is your dependent variable=outcome (DV) and what are your independent variables/features (IV) 2 pts
####Provide the regression summary table 3 pts
####Explain the summary table 5 pts
####Visualize 4 diagnostic plots 5 pts
####Explain how well your model fit the assumptions based on those diagnostic plots 5 pts
####Note: Provide a full explanation/description for each figure. 
####Subtracting 1pt for not providing explanation for a figure
####Subtracting 1pt: for printing data tables. Do not include head functions, do not print a portion of dataframe - it is only needed for your exploration but not for report. Consider simply providing a descriptive information

##Visualization 5 pts (overall)
###Legends 1pt
###Title 1pt
###Axis titles 1pt
###Axis values 1pt
###Plots are readable (for example, avoid colors that are hard to distinguished, it is a good practice to know if your colors are appropriate for color blindness) 1pt

##Results 10 pts
###Make sure to provide answers to questions you have generated at the beginning. Write a brief summary of your answers in your report. You are not expected to have a comprehensive research in this assignment.





